{"absId":"poly/xhr","text":"/**\n * XHR polyfill / shims\n *\n * (c) copyright 2011-2013 Brian Cavalier and John Hann\n *\n * This module is part of the cujo.js family of libraries (http://cujojs.com/).\n *\n * Licensed under the MIT License at:\n * \t\thttp://www.opensource.org/licenses/mit-license.php\n *\n */\ndefine(function () {\n\n\tvar progIds;\n\n\t// find XHR implementation\n\tif (typeof XMLHttpRequest == 'undefined') {\n\t\t// create xhr impl that will fail if called.\n\t\tassignCtor(function () { throw new Error(\"poly/xhr: XMLHttpRequest not available\"); });\n\t\t// keep trying progIds until we find the correct one,\n\t\tprogIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n\t\twhile (progIds.length && tryProgId(progIds.shift())) {}\n\t}\n\n\tfunction assignCtor (ctor) {\n\t\t// assign window.XMLHttpRequest function\n\t\twindow.XMLHttpRequest = ctor;\n\t}\n\n\tfunction tryProgId (progId) {\n\t\ttry {\n\t\t\tnew ActiveXObject(progId);\n\t\t\tassignCtor(function () { return new ActiveXObject(progId); });\n\t\t\treturn true;\n\t\t}\n\t\tcatch (ex) {}\n\t}\n\n});\n","modules":[{"pos":274,"count":19,"factory":true,"id":"poly/xhr"}]}