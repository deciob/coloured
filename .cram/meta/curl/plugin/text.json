{"absId":"curl/plugin/text","text":"/** MIT License (c) copyright 2010-2013 B Cavalier & J Hann */\n\n/**\n * curl text! loader plugin\n *\n * Licensed under the MIT License at:\n * \t\thttp://www.opensource.org/licenses/mit-license.php\n */\n\n/**\n * TODO: load xdomain text, too, somehow\n *\n */\n\ndefine(/*=='curl/plugin/text',==*/ ['./_fetchText'], function (fetchText) {\n\n\treturn {\n\n\t\t'normalize': function (resourceId, toAbsId) {\n\t\t\t// remove options\n\t\t\treturn resourceId ? toAbsId(resourceId.split(\"!\")[0]) : resourceId;\n\t\t},\n\n\t\tload: function (resourceName, req, callback, config) {\n\t\t\t// remove suffixes (future)\n\t\t\t// get the text\n\t\t\tfetchText(req['toUrl'](resourceName), callback, callback['error'] || error);\n\t\t},\n\n\t\t'cramPlugin': '../cram/text'\n\n\t};\n\n\tfunction error (ex) {\n\t\tthrow ex;\n\t}\n\n});\n","modules":[{"pos":251,"count":74,"depList":["curl/plugin/_fetchText"],"factory":true,"argList":["fetchText"],"id":"curl/plugin/text"}]}